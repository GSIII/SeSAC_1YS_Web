<html>
  <head>
    <title>socekt</title>
    <script
      src="https://cdn.socket.io/4.6.0/socket.io.min.js"
      integrity="sha384-c79GN5VsunZvi+Q/WObgk2in0CbZsHnjEqvFxC5DxHn9lTfNce2WW6h2pH6u/kF+"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <h1>Hello World</h1>
    <button onclick="btnSend('hello')">hello</button>
    <button onclick="btnSend('study')">study</button>
    <button onclick="btnSend('bye')">bye</button>
    <script>
      let socket = io.connect();

      //on은 함수 안에 넣으면 안된다. 함수 안에 넣어도 실행이 되는데
      //on은 이벤트 이므로 함수가 실행될때 이벤트가 등록된다.
      //함수 밖에 등록하면 함수 실행되기 전에 이벤트를 미리 등록해놓은 것이다.
      socket.on("response", (msg) => {
        console.log(msg);
      });

      const btnSend = (msg) => {
        socket.emit("send", msg);
      };
    </script>
  </body>
</html>
